MEPH.define("MEPH.math.Set",{alternateNames:"Set",requires:["MEPH.math.Util"],statics:{superset:function(g){var b=g.get();var e=b.length;var d=[];var f=Math.pow(2,e);var c=[].interpolate(0,f,function(h){var i=Set.baseConvert(h,10,2);return[].interpolate(0,e-i.length,function(){return"0"}).join("")+Set.baseConvert(h,10,2)}).select(function(h){var i=h.split("").select(function(j,k){return parseInt(j,10)?b[k]:null});return i});var a=new Set();a.set(c);return a},base2MaskSet:function(c){var d=Math.pow(2,c);var b=Math.log(c)/Math.log(2);var a=[].interpolate(0,d,function(e){var f=Set.baseConvert(e,10,2);return[].interpolate(0,b-f.length+1,function(){return"0"}).join("")+Set.baseConvert(e,10,2)});return a},itemSets:function(b,a){var c=new Set();c.set([].interpolate(0,b,function(d){return d}));return Set.superset(c).get().where(function(d){return d.count(function(e){return e!==null})===a})},permutate:function(e,c,d){var b,a=[];if(c===undefined&&d===undefined){c=0;d=e.get().length}if(c==d){a.push(e)}else{for(b=c;b<d;b++){Set.swap(e,c,b);a=a.concat(Set.permutate(e.copy(),c+1,d));Set.swap(e,c,b)}}return a},swap:function(e,c,b){var d=e.get();var a=d[c];d[c]=d[b];d[b]=a},sagset:function(a){var b=[].interpolate(1,a,function(c){var d=[].interpolate(0,a-c,function(e){return 1});return d});b.push([]);b=b.reverse().select(function(c,d){return[a-d].concat(c)});b=b.select(function(j){var l=[];var f=j.first();l.push(j);var g=j.select();var k=a-f;var h=0;while(k>g.subset(1).min(function(c){return c?c:a+1})){var d=g.subset(1).min(function(c){return c?c:a+1});h++;if(h>1000){break}var e=g.lastIndexOf(d);g[e]--;var d=g.subset(1).min(function(c){return c?c:a+1});var i=g.indexOf(d);if(i===-1){i=e}g[i]++;if(e===i){break}l.push(g);g=g.select()}return l});return b.concatFluentReverse(function(c){return c})},baseConvert:function(b,c,a){return parseInt(b,c||10).toString(a||10)}},properties:{value:null},initialize:function(b){var a=this;a.value=b||[]},copy:function(){var a=this,b=new MEPH.math.Set();b.set(a.value.select());return b},set:function(b){var a=this;a.value.length=0;a.value.push.apply(a.value,b)},print:function(){var a=this;return"["+a.get().join()+"]"},get:function(){var a=this;return a.value}});