MEPH.define("MEPH.math.Expression",{alternateNames:"Expression",requires:["MEPH.math.ExpressionMatch","MEPH.math.Set","MEPH.math.expression.Factor","MEPH.math.ExpressionTranslation"],statics:{type:{variable:"variable",integral:"integral",addition:"addition",power:"power",limit:"limit",fraction:"fraction",sin:"sin",cos:"cos",tan:"tan",csc:"csc",cot:"cot",sec:"sec",tan:"tan",sinh:"sinh",cosh:"cosh",tanh:"tanh",sech:"sech",coth:"coth",csch:"csch",ln:"ln",log:"log",e:"e",factorial:"factorial",summation:"summation",sqrt:"sqrt",negative:"negative",abs:"abs",func:"func",mod:"mod",modulo:"modulo",theta:"theta",subtraction:"subtraction",plusminus:"plusminus",multiplication:"multiplication",division:"division",anything:"anything",derivative:"derivative"},symbols:{Infinity:"Infinity"},"function":{input:"input",start:"start",end:"end",name:"name",denominator:"denominator",numerator:"numerator",base:"base",expression:"exp",power:"power",respectTo:"respectTo",derivative:"derivative"},translation:{Translate:function(d,c){return ExpressionTranslation.translate(d,c)},Transform:function(e,d,c){return ExpressionTranslation.transform(e,d,c)}},RuleType:{Derivation:{SimpleVariableA:"SimpleVariableA",SimpleVariableB:"SimpleVariableB"},Integration:{},IntegralConstMultiply:"IntegralConstMultiply",MultiplyIntegralofFx:"MultiplyIntegralofFx",IntegralConst:"IntegralConst",AxPlusC:"AxPlusC",Power:"Power",PowerIntegrate:"PowerIntegrate",IntegrationAddition:"IntegrationAddition",AdditionIntegral:"AdditionIntegral",IntegrationByParts:"IntegrationByParts",IntegrationByPartsComplete:"IntegrationByPartsComplete",Fudx:"Fudx",FuOveruprimedx:"FuOveruprimedx",OneOverX:"OneOverX",NaturalLogAbsX:"NaturalLogAbsX",GeneralFormula8A:"GeneralFormula8A",GeneralFormula8B:"GeneralFormula8B",GeneralFormula9A:"GeneralFormula9A",GeneralFormula9B:"GeneralFormula9B",TrigonometricFormula10A:"TrigonometricFormula10A",TrigonometricFormula10B:"TrigonometricFormula10B",TrigonometricFormula11A:"TrigonometricFormula11A",TrigonometricFormula11B:"TrigonometricFormula11B"},Dependency:{ConstRelation:function(d,b){var a=b&&b.val&&b.val.part?b.val.part("variable").val:b.val;return !d.respects().contains(function(c){return c===a})},VariableRelation:function(d,b){var a=b&&b.val&&b.val.part?b.val.part("variable").val:b.val;return d.respects().contains(function(c){return c===a})},ChainRule:function(e,c,d){var a=d.getMark(c);var b=Expression.Dependency.GetGx(a);if(b){b.mark(e);return true}return false},AlreadyChainedRule:function(d,b,c){var a=c.getProperties();return !!!a.chained},GetGx:function(a){switch(a.type){case Expression.type.fraction:case Expression.type.division:case Expression.type.subtraction:case Expression.type.addition:case Expression.type.multiplication:case Expression.type.variable:case Expression.type.integral:case Expression.type.derivative:case Expression.type.abs:case Expression.type.summation:return null;case Expression.type.power:return a.partOrDefault(Expression["function"].power);case Expression.type.ln:case Expression.type.e:case Expression.type.log:case Expression.type.cos:case Expression.type.tan:case Expression.type.sec:case Expression.type.sin:case Expression.type.csc:case Expression.type.cosh:case Expression.type.tanh:case Expression.type.sech:case Expression.type.coth:case Expression.type.sinh:case Expression.type.csch:case Expression.type.cot:case Expression.type.sqrt:return a.partOrDefault(Expression["function"].input);default:throw new Error("unhandled case: "+a.type+", Expression.js(GetGx)")}},Matches:function(b,c){var a=b.select(function(d){return c.getMark(d)});if(a.length===a.count(function(d){return d})){return a.subset(1).all(function(d){return a.first().equals(d,{exact:true})})}return false},OrderRequired:function(e,c,f){var d=f.getMark(c);var a=e.select(function(g){return d.getParts().indexWhere(function(h){return h.val===f.getMark(g)}).first()});var b=a.all(function(g,h){if(h==0){return true}else{return a[h-1]<g}});return b},SiblingIndependence:function(d,b){var a=b.select(function(e){var c=e&&e.val&&e.val.part?e.val.respects():[e.val];return c}).concatFluentReverse(function(c){return c});return !a.intersection(d.respects()).count()},SiblingDependence:function(d,b){var a=b.select(function(e){var c=e&&e.val&&e.val.part?e.val.respects():[e.val];return c}).concatFluentReverse(function(c){return c});return a.intersection(d.respects()).count()}},clearMarks:function(a){a.clearMarks()},select:function(i,h){var a=h.offset;var e=a.split(":");var b=e.first();var f;var g=i;switch(b){case"stay":return g;case"up":f=e.second().split(".").second();do{g=g.parent()}while(g&&g.type!==f);if(g){if(h.part){return g.part(h.part)}else{return g}}}switch(a){case"grandparent":offset=i.parent().parent();part=offset.part(h.part);break;case"parent":offset=i.parent();part=offset.part(h.part);break;case"sibling":offset=i.parent();var c=JSON.parse("{"+h.part+"}");part=offset.parts.where(function(d){return d.val!==i});break;default:if(a.split(".")){a.split(".").foreach(function(d){if(d==="parent"){offset=offset.parent()}});part=offset.part(h.part)}else{throw new Error("not handled offset")}break}return part},GreatestCommomFactor:function(f){var b=Expression.Flatten(f.copy(),Expression.type.multiplication);var e=[];var a=b.getParts().select(function(g){return MEPH.math.expression.Factor.getFactors(g.val)});var d=a.intersectFluent(function(g,h){return g.exp.equals(h.exp,{exact:true})});var c=d.select(function(g){return a.concatFluentReverse(function(h){return h}).where(function(h){return h.exp.equals(g.exp,{exact:true})}).minSelect(function(h){return h.count})});return c},GreatestCommonDenominator:function(b){var c=Expression.GreatestCommomFactor(b);var a=c.select(function(d){return Expression.power(d.exp,d.count)});if(a.length>1){a=Expression.multiplication.apply(this,a)}else{if(a.length){a=a.first()}else{return null}}return MEPH.math.expression.Evaluator.evaluate(a)},Refactor:function(c,b){var a=Expression.Flatten(c.copy(),Expression.type.multiplication);a.getParts().select(function(d){var e=MEPH.math.expression.Factor.removeFactors(d.val,b);return{r:e,p:d.val}}).foreach(function(d){Expression.SwapPart(d.p,d.r)});return Expression.multiplication.apply(this,b.select(function(d){return d.exp}).concat(a))},SwapPart:function(d,c){if(d.parent()){var f=d.parent();var e=f.remove(d).first();f.addPart(e.type,c);c.parent(f);return true}return false},getMatchingRules:function(e){var c=[];for(var a in Expression.Rules){for(var b in Expression.Rules[a]){var d=Expression.Rules[a][b]();var f=Expression.matchRule(e,d);if(f){c.push({type:"Differentiation"===a?Expression.type.derivative:Expression.type.integral,rule:d})}}}return c},getRule:function(c,b){if("Derivation"===b){for(var a in Expression.Rules.Differentiation){if(a===c){return Expression.Rules.Differentiation[a]()}}}for(var a in Expression.Rules.Integration){if(a===c){return Expression.Rules.Integration[a]()}}return null},Rules:{Differentiation:{SimpleVariableA:function(){var c=Expression.variable("x");c.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var a=Expression.variable("d");a.mark("dx");var b=Expression.derivative(c,1,null,a);b.name(Expression.RuleType.Derivation.SimpleVariableA);return b},SimpleVariableB:function(){var a=Expression.one();a.name(Expression.RuleType.Derivation.SimpleVariableB);return a},GeneralFormula1a:function(){var b=Expression.anything();b.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.ConstRelation);var a=Expression.derivative(b,null,null);a.name(Expression.RuleType.Derivation.GeneralFormula1a);return a},GeneralFormula1b:function(){var a=Expression.zero();a.name(Expression.RuleType.Derivation.GeneralFormula1b);return a},GeneralFormula2a:function(){var f=Expression.anything();f.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.ConstRelation);f.mark("C");var a=Expression.variable("x");a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var e=Expression.multiplication(f,a);e.repeat={requires:[Expression["function"].input]};var b=Expression.variable("d");var d=Expression.derivative(e,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula2a);return d},GeneralFormula2b:function(){var a=Expression.variable("c");a.mark("C");a.name(Expression.RuleType.Derivation.GeneralFormula2b);return a},GeneralFormula3a:function(){var f=Expression.anything();f.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.ConstRelation);f.mark("C");var a=Expression.anything("x");a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("U");var e=Expression.multiplication(f,a);e.repeat={requires:[Expression["function"].input]};var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(e,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula3a);return d},GeneralFormula3b:function(){var f=Expression.variable("c");f.dependency("sibling","",Expression.Dependency.SiblingIndependence);f.mark("C");var e=Expression.anything();e.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);e.mark("U");var a=Expression.variable("d");a.mark("dx");var b=Expression.derivative(e,1,null,a);var d=Expression.multiplication(f,b);d.name(Expression.RuleType.Derivation.GeneralFormula3b);return d},GeneralFormula4a:function(){var e=Expression.anything();e.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);e.mark("U");var c=Expression.addition(e);c.repeat=true;c.mark("A");var a=Expression.variable("d");a.mark("dx");var b=Expression.derivative(c,1,null,a);b.name(Expression.RuleType.Derivation.GeneralFormula4a);b.mark("dir");return b},GeneralFormula4b:function(){var e=Expression.anything();e.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);e.mark("U");var c=Expression.variable("d");c.mark("dx");var b=Expression.derivative(e,1,null,c);b.mark("dir");var a=Expression.addition(b);a.name(Expression.RuleType.Derivation.GeneralFormula4b);a.mark("A");a.repeat=true;return a},GeneralFormula5a:function(){var b=Expression.anything();b.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);b.mark("U");var c=Expression.variable("d");c.mark("dx");var e=Expression.multiplication(b);e.mark("A");e.repeat=true;var d=Expression.derivative(e,1,null,c);d.name(Expression.RuleType.Derivation.GeneralFormula5a);return d},GeneralFormula5b:function(){var c=Expression.anything();c.mark("V");c.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var e=Expression.anything();e.mark("U");e.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(e,1,null,b);d.mark("dir");var f=Expression.multiplication(d,c);f.mark("copyTo");var a=Expression.addition(f);a.mark("A");a.repeat=true;a.name(Expression.RuleType.Derivation.GeneralFormula5b);return a},GeneralFormula7a:function(){var b=Expression.anything();b.mark("V");b.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var c=Expression.anything();c.mark("U");c.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var e=Expression.division(c,b);var a=Expression.variable("d");a.mark("dx");var d=Expression.derivative(e,1,null,a);d.name(Expression.RuleType.Derivation.GeneralFormula7a);return d},GeneralFormula7b:function(){var m=Expression.anything();m.mark("V");var l=Expression.anything();l.mark("dU");var d=Expression.variable("d");d.mark("dudx");var c=Expression.derivative(l,1,null,d);var j=Expression.anything();j.mark("dV");var f=Expression.variable("d");f.mark("dvdx");var b=Expression.derivative(j,1,null,f);var n=Expression.anything();n.mark("U");var k=Expression.multiplication(m,c);var e=Expression.multiplication(n,b);var i=Expression.subtraction(k,e);var h=Expression.anything();h.mark("VD");var a=Expression.power(h,2);var g=Expression.division(i,a);g.name(Expression.RuleType.Derivation.GeneralFormula7b);return g},ChainRuleA:function(){var c=Expression.anything();c.mark("Fx");c.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var a=Expression.variable("d");a.mark("dx");var b=Expression.derivative(c,1,null,a);b.name(Expression.RuleType.Derivation.ChainRuleA);b.dependency("stay:","",Expression.Dependency.AlreadyChainedRule.bind(this,"Gx","Fx"),true);b.dependency("stay:","",Expression.Dependency.ChainRule.bind(this,"Gx","Fx"),true);return b},ChainRuleB:function(){var g=Expression.anything();g.mark("Gx");var d=Expression.anything();d.mark("Fx");var a=Expression.variable("x");a.mark("dx1");var e=Expression.variable("x");e.mark("dx2");var b=Expression.derivative(g,1,null,e);var c=Expression.derivative(d,1,null,a);c.setProperties({chained:true});var f=Expression.multiplication(c,b);f.name(Expression.RuleType.Derivation.ChainRuleB);return f},GeneralFormula10a:function(){var e=Expression.anything();e.mark("N");var d=Expression.anything();d.mark("U");d.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var b=Expression.power(d,e);var a=Expression.variable("d");a.mark("dx");var c=Expression.derivative(b,1,null,a);c.name(Expression.RuleType.Derivation.GeneralFormula10a);return c},GeneralFormula10b:function(){var e=Expression.variable("d");e.mark("dx");var g=Expression.anything();g.mark("dU");var c=Expression.derivative(g,1,null,e);var f=Expression.anything();f.mark("NS");var a=Expression.subtraction(f,1);var h=Expression.anything();h.mark("U");var b=Expression.power(h,a);var d=Expression.anything();d.mark("N");var i=Expression.multiplication(d,b,c);i.name(Expression.RuleType.Derivation.GeneralFormula10b);return i},GeneralFormula12a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.e(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.derivative(d,1,null,b);c.name(Expression.RuleType.Derivation.GeneralFormula12a);return c},GeneralFormula12b:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var b=Expression.e(a);b.name(Expression.RuleType.Derivation.GeneralFormula12b);return b},GeneralFormula13a:function(){var b=Expression.anything();b.mark("X");b.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var c=Expression.anything();c.mark("A");c.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.ConstRelation);var e=Expression.power(c,b);var d=Expression.variable("d");d.mark("dx");var f=Expression.derivative(e,1,null,d);f.name(Expression.RuleType.Derivation.GeneralFormula13a);return f},GeneralFormula13b:function(){var f=Expression.anything();f.mark("LNA");var e=Expression.ln(f);var c=Expression.anything();c.mark("A");var b=Expression.anything();b.mark("X");var d=Expression.power(c,b);var g=Expression.multiplication(d,e);g.name(Expression.RuleType.Derivation.GeneralFormula13b);return g},GeneralFormula14a:function(){var b=Expression.anything("x");b.mark("X");b.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var a=Expression.abs(b);var d=Expression.ln(a);var c=Expression.variable("d");c.mark("dx");var e=Expression.derivative(d,1,null,c);e.name(Expression.RuleType.Derivation.GeneralFormula14a);return e},GeneralFormula14b:function(){var a=Expression.anything("x");a.mark("X");var b=Expression.division(Expression.variable("1"),a);b.name(Expression.RuleType.Derivation.GeneralFormula14b);return b},GeneralFormula15a:function(){var b=Expression.anything("x");b.mark("X");var c=Expression.variable("a");c.mark("A");var d=Expression.variable("d");d.mark("dx");var e=Expression.log(b,c);var f=Expression.derivative(e,1,null,d);f.name(Expression.RuleType.Derivation.GeneralFormula15a);return f},GeneralFormula15b:function(){var b=Expression.anything();b.mark("X");b.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var c=Expression.anything();c.mark("A");var e=Expression.ln(c);var d=Expression.multiplication(b,e);var f=Expression.division(1,d);f.name(Expression.RuleType.Derivation.GeneralFormula15b);return f},GeneralFormula17a:function(){var a=Expression.anything();a.mark("X");a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var c=Expression.sin(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula17a);return d},GeneralFormula17b:function(){var a=Expression.anything();a.mark("X");var b=Expression.cos(a);b.name(Expression.RuleType.Derivation.GeneralFormula17b);return b},GeneralFormula18a:function(){var a=Expression.anything();a.mark("X");a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var c=Expression.cos(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula18a);return d},GeneralFormula18b:function(){var a=Expression.anything();a.mark("X");var b=Expression.cos(a);b.name(Expression.RuleType.Derivation.GeneralFormula17b);var c=Expression.multiplication(-1,b);c.name(Expression.RuleType.Derivation.GeneralFormula18b);return c},GeneralFormula19a:function(){var a=Expression.anything();a.mark("X");a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);var b=Expression.variable("d");b.mark("dx");var c=Expression.tan(a);var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula19a);return d},GeneralFormula19b:function(){var a=Expression.anything();a.mark("X");var c=Expression.sec(a);var b=Expression.power(c,2);b.name(Expression.RuleType.Derivation.GeneralFormula19b);return b},GeneralFormula20a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.cot(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula20a);return d},GeneralFormula20b:function(){var a=Expression.anything();a.mark("X");var d=Expression.csc(a);var c=Expression.power(d,2);var b=Expression.variable(-1);var e=Expression.multiplication(b,c);e.name(Expression.RuleType.Derivation.GeneralFormula20b);return e},GeneralFormula21a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.csc(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.derivative(d,1,null,b);c.name(Expression.RuleType.Derivation.GeneralFormula21a);return c},GeneralFormula21b:function(){var b=Expression.anything();b.mark("X1");var a=Expression.anything();a.mark("X2");var e=Expression.csc(b);var c=Expression.cot(a);var d=Expression.multiplication(-1,e,c);d.name(Expression.RuleType.Derivation.GeneralFormula21b);return d},GeneralFormula22a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.sec(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula22a);return d},GeneralFormula22b:function(){var b=Expression.anything();b.mark("X1");var a=Expression.anything();a.mark("X2");var d=Expression.sec(b);var c=Expression.tan(a);var e=Expression.multiplication(d,c);e.name(Expression.RuleType.Derivation.GeneralFormula21b);return e},GeneralFormula23a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.sin(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.power(c,-1);var e=Expression.derivative(d,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula23a);return e},GeneralFormula23b:function(){var a=Expression.anything();a.mark("X");var b=Expression.power(a,2);var c=Expression.subtraction(1,b);var d=Expression.sqrt(c);var e=Expression.division(1,d);e.name(Expression.RuleType.Derivation.GeneralFormula23b);return e},GeneralFormula24a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.cos(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(d,-1);var e=Expression.derivative(c,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula24a);return e},GeneralFormula24b:function(){var a=Expression.anything();a.mark("X");var b=Expression.power(a,2);var c=Expression.subtraction(1,b);var d=Expression.sqrt(c);var e=Expression.division(1,d);e.name(Expression.RuleType.Derivation.GeneralFormula24b);return e},GeneralFormula25a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.tan(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.power(c,-1);var e=Expression.derivative(d,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula25a);return e},GeneralFormula25b:function(){var b=Expression.anything();b.mark("X");var c=Expression.power(b,2);var a=Expression.addition(1,c);var d=Expression.division(1,a);d.name(Expression.RuleType.Derivation.GeneralFormula25b);return d},GeneralFormula26a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.cot(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(d,-1);var e=Expression.derivative(c,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula26a);return e},GeneralFormula26b:function(){var b=Expression.anything();b.mark("X");var c=Expression.power(b,2);var a=Expression.addition(1,c);var e=Expression.division(1,a);var d=Expression.multiplication(-1,e);d.name(Expression.RuleType.Derivation.GeneralFormula26b);return d},GeneralFormula27a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var e=Expression.csc(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(e,-1);var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula27a);return d},GeneralFormula27b:function(){var a=Expression.anything();a.mark("X1");var d=Expression.anything();d.mark("X2");var c=Expression.power(a,2);var e=Expression.subtraction(c,1);var f=Expression.sqrt(e);var b=Expression.multiplication(d,f);var h=Expression.division(1,b);var g=Expression.multiplication(-1,h);g.name(Expression.RuleType.Derivation.GeneralFormula27b);return g},GeneralFormula28a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.sec(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(d,-1);var e=Expression.derivative(c,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula28a);return e},GeneralFormula28b:function(){var a=Expression.anything();a.mark("X1");var d=Expression.anything();d.mark("X2");var c=Expression.power(a,2);var e=Expression.subtraction(c,1);var f=Expression.sqrt(e);var b=Expression.multiplication(d,f);var g=Expression.division(1,b);g.name(Expression.RuleType.Derivation.GeneralFormula28b);return g},GeneralFormula29a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.sinh(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.derivative(d,1,null,b);c.name(Expression.RuleType.Derivation.GeneralFormula29a);return c},GeneralFormula29b:function(){var b=Expression.anything();b.mark("X");var a=Expression.cosh(b);a.name(Expression.RuleType.Derivation.GeneralFormula29b);return a},GeneralFormula30a:function(){var b=Expression.anything();b.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);b.mark("X");var a=Expression.cosh(b);var c=Expression.variable("d");c.mark("dx");var d=Expression.derivative(a,1,null,c);d.name(Expression.RuleType.Derivation.GeneralFormula30a);return d},GeneralFormula30b:function(){var b=Expression.anything();b.mark("X");var a=Expression.sinh(b);a.name(Expression.RuleType.Derivation.GeneralFormula30b);return a},GeneralFormula31a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.tanh(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula31a);return d},GeneralFormula31b:function(){var a=Expression.anything();a.mark("X");var c=Expression.power(a,2);var b=Expression.sech(c);b.name(Expression.RuleType.Derivation.GeneralFormula31b);return b},GeneralFormula32a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.coth(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula32a);return d},GeneralFormula32b:function(){var a=Expression.anything();a.mark("X");var c=Expression.csch(a);var b=Expression.power(c,2);var d=Expression.multiplication(-1,b);d.name(Expression.RuleType.Derivation.GeneralFormula32b);return d},GeneralFormula33a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.csch(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula33a);return d},GeneralFormula33b:function(){var a=Expression.anything();a.mark("X1");var c=Expression.anything();c.mark("X2");var d=Expression.csch(a);var b=Expression.coth(c);var e=Expression.multiplication(-1,d,b);e.name(Expression.RuleType.Derivation.GeneralFormula33b);return e},GeneralFormula34a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.sech(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.derivative(c,1,null,b);d.name(Expression.RuleType.Derivation.GeneralFormula34a);return d},GeneralFormula34b:function(){var a=Expression.anything();a.mark("X1");var b=Expression.anything();b.mark("X2");var c=Expression.sech(a);var d=Expression.tanh(b);var e=Expression.multiplication(-1,c,d);e.name(Expression.RuleType.Derivation.GeneralFormula34b);return e},GeneralFormula35a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.sinh(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.power(c,-1);var e=Expression.derivative(d,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula35a);return e},GeneralFormula35b:function(){var b=Expression.anything();b.mark("X");var c=Expression.power(b,2);var a=Expression.addition(1,c);var d=Expression.sqrt(a);var e=Expression.division(1,d);e.name(Expression.RuleType.Derivation.GeneralFormula35b);return e},GeneralFormula36a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.cosh(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(d,-1);var e=Expression.derivative(c,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula36a);return e},GeneralFormula36b:function(){var a=Expression.anything();a.mark("X");var b=Expression.power(a,2);var c=Expression.subtraction(b,1);var d=Expression.sqrt(c);var e=Expression.division(1,d);e.name(Expression.RuleType.Derivation.GeneralFormula36b);return e},GeneralFormula37a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.tanh(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(d,-1);var e=Expression.derivative(c,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula37a);return e},GeneralFormula37b:function(){var a=Expression.anything();a.mark("X");var b=Expression.power(a,2);var c=Expression.subtraction(1,b);var d=Expression.division(1,c);d.name(Expression.RuleType.Derivation.GeneralFormula37b);return d},GeneralFormula38a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.coth(a);var b=Expression.variable("d");b.mark("dx");var d=Expression.power(c,-1);var e=Expression.derivative(d,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula38a);return e},GeneralFormula38b:function(){var a=Expression.anything();a.mark("X");var b=Expression.power(a,2);var c=Expression.subtraction(1,b);var d=Expression.division(1,c);d.name(Expression.RuleType.Derivation.GeneralFormula38b);return d},GeneralFormula39a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.csch(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(d,-1);var e=Expression.derivative(c,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula39a);return e},GeneralFormula39b:function(){var g=Expression.anything();g.mark("X1");var b=Expression.anything();b.mark("X2");var i=Expression.abs(b);var a=Expression.power(g,2);var e=Expression.addition(a,1);var h=Expression.sqrt(e);var c=Expression.multiplication(i,h);var f=Expression.division(1,c);var d=Expression.multiplication(-1,f);d.name(Expression.RuleType.Derivation.GeneralFormula39b);return d},GeneralFormula40a:function(){var a=Expression.anything();a.dependency("up:.derivative",Expression["function"].denominator,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.sech(a);var b=Expression.variable("d");b.mark("dx");var c=Expression.power(d,-1);var e=Expression.derivative(c,1,null,b);e.name(Expression.RuleType.Derivation.GeneralFormula40a);return e},GeneralFormula40b:function(){var a=Expression.anything();a.mark("X1");var d=Expression.anything();d.mark("X2");var c=Expression.power(a,2);var e=Expression.subtraction(1,c);var f=Expression.sqrt(e);var b=Expression.multiplication(d,f);var h=Expression.division(1,b);var g=Expression.multiplication(-1,h);g.name(Expression.RuleType.Derivation.GeneralFormula40b);return g}},Integration:{IntegralConstMultiply:function(){var f=Expression.anything();f.dependency("up:.integral","respectTo",Expression.Dependency.ConstRelation);f.mark("C");var b=Expression.anything();b.dependency("up:.integral","respectTo",Expression.Dependency.VariableRelation);b.mark("A");var d=Expression.multiplication(f,b);d.repeat={requires:[Expression["function"].input]};var e=Expression.integral(d,"x");e.mark("I");e.name(Expression.RuleType.IntegralConstMultiply);return e},MultiplyIntegralofFx:function(){var f=Expression.anything("#C");f.dependency("sibling","",Expression.Dependency.SiblingIndependence);f.mark("C");var b=Expression.anything();b.dependency("up:.integral","respectTo",Expression.Dependency.VariableRelation);b.mark("A");var d=Expression.integral(b,"x");d.mark("I");var e=Expression.multiplication(f,d);e.repeat={requires:[Expression["function"].input]};e.name(Expression.RuleType.MultiplyIntegralofFx);return e},IntegralConst:function(){var d=Expression.anything();d.mark("C");d.dependency("up:.integral","respectTo",Expression.Dependency.ConstRelation);var a=Expression.variable("x");a.mark("dx");var b=Expression.integral(d,a);b.mark("I");b.name(Expression.RuleType.IntegralConst);return b},AxPlusC:function(){var d=Expression.anything("A");d.mark("A");d.dependency("sibling","",Expression.Dependency.SiblingIndependence);var b=Expression.variable("x");b.mark("x");var f=Expression.variable("#C");f.mark("C");var e=Expression.addition(Expression.multiplication(d,b),f);e.name(Expression.RuleType.AxPlusC);return e},Power:function(){var d=Expression.variable("n");d.mark("n");var a=Expression.variable("x");a.mark("x");var b=Expression.power(a,d);a.dependency("up:.integral","respectTo",Expression.Dependency.VariableRelation);d.dependency("up:.integral","respectTo",Expression.Dependency.ConstRelation);var c=Expression.integral(b,"x");c.mark("I");c.name(Expression.RuleType.Power);return c},PowerIntegrate:function(){var f=Expression.variable("n");f.mark("n_pre");var b=Expression.variable("n");b.mark("n_post");var a=Expression.variable("x");a.mark("x");a.dependency("sibling","",Expression.Dependency.SiblingIndependence);var e=Expression.variable("C");e.mark("C");var d=Expression.addition(Expression.multiplication(Expression.fraction(Expression.variable(1),Expression.addition(f,Expression.variable(1))),Expression.power(a,Expression.addition(b,Expression.variable(1)))),e);d.name(Expression.RuleType.PowerIntegrate);return d},IntegrationAddition:function(){var c=Expression.func("f","x");c.mark("f");c.dependency("up:.integral","respectTo",Expression.Dependency.VariableRelation);var a=Expression.addition(c);a.mark("A");a.repeat=true;var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(a,b);d.mark("I");d.name(Expression.RuleType.IntegrationAddition);return d},AdditionIntegral:function(){var c=Expression.func("f","x");c.mark("f");c.dependency("up:.integral","respectTo",Expression.Dependency.VariableRelation);var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(c,b);d.mark("I");var a=Expression.addition(d);a.repeat=true;a.mark("A");a.name(Expression.RuleType.AdditionIntegral);return a},IntegrationByParts:function(){var a=Expression.variable("v");a.mark("dv");var b=Expression.variable("u");b.mark("du");var d=Expression.func("f",b);d.dependency("up:.integral","respectTo",Expression.Dependency.ConstRelation);var c=Expression.integral(d,a);c.name(Expression.RuleType.IntegrationByParts);return c},IntegrationByPartsComplete:function(){var c=Expression.variable("u");c.mark("u_1");var h=Expression.func("f",c);var k=Expression.variable("v");k.mark("v_1");var e=Expression.func("g",k);h.dependency("sibling","",Expression.Dependency.SiblingDependence);e.dependency("sibling","",Expression.Dependency.SiblingDependence);var d=Expression.multiplication(h,e);var j=Expression.variable("v");j.mark("v_2");var l=Expression.func("g",j);l.dependency("up:.integral","respectTo",Expression.Dependency.VariableRelation);var a=Expression.variable("u");a.mark("u_2");var b=Expression.integral(l,a);var i=Expression.subtraction(d,b);i.name(Expression.RuleType.IntegrationByPartsComplete);return i},Fudx:function(){var d=Expression.variable("x");d.mark("u_dx");var b=Expression.func("u",d);b.mark("u");var a=Expression.variable("x");a.mark("dx");var e=Expression.func("f",b);var c=Expression.integral(e,a);c.mark("I");c.name(Expression.RuleType.Fudx);return c},FuOveruprimedx:function(){var b=Expression.variable("u");b.mark("du3");var f=Expression.derivative("f",1,b);var c=Expression.variable("u");c.mark("du2");var a=Expression.func("f",c);var e=Expression.variable("u");e.mark("du");var d=Expression.fraction(a,f);var g=Expression.integral(d,e);g.name(Expression.RuleType.FuOveruprimedx);return g},OneOverX:function(){var a=Expression.variable("x");a.mark("x");a.dependency("up:.integral","respectTo",Expression.Dependency.VariableRelation);var c=Expression.variable("1");var d=Expression.fraction(c,a);var b=Expression.variable("x");var e=Expression.integral(d,b);e.name(Expression.RuleType.OneOverX);return e},NaturalLogAbsX:function(){var d=Expression.variable("x");d.mark("x");var b=Expression.abs(d);var e=Expression.ln(b);e.dependency("sibling","",Expression.Dependency.SiblingIndependence);var f=Expression.variable("c");var a=Expression.addition(e,f);a.name(Expression.RuleType.NaturalLogAbsX);return a},GeneralFormula8A:function(){var i=Expression.variable("a");i.mark("a");var j=Expression.variable("x");j.mark("x");var b=Expression.power(j,2);var c=Expression.power(i,2);var e=Expression.addition(b,c);b.dependency("sibling","",Expression.Dependency.SiblingIndependence);b.dependency("parent.parent.parent","respectTo",Expression.Dependency.VariableRelation);var g=Expression.variable("1");var h=Expression.fraction(g,e);var k=Expression.variable("x");var d=Expression.integral(h,k);d.name(Expression.RuleType.GeneralFormula8A);return d},GeneralFormula8B:function(){var e=Expression.variable("x");e.mark("x");var d=Expression.variable("a");d.mark("a_tan");e.dependency("sibling","",Expression.Dependency.SiblingIndependence);var j=Expression.fraction(e,d);var l=Expression.tan(j,-1);var b=Expression.variable("a");b.mark("a");var a=Expression.variable("1");var k=Expression.fraction(a,b);var i=Expression.variable("c");var h=Expression.multiplication(k,l);var g=Expression.addition(h,i);g.name(Expression.RuleType.GeneralFormula8B);return g},GeneralFormula9A:function(){var i=Expression.variable("a");i.mark("a");var j=Expression.variable("x");j.mark("x");var d=Expression.power(i,2);var c=Expression.power(j,2);c.dependency("sibling","",Expression.Dependency.SiblingIndependence);c.dependency("parent.parent.parent","respectTo",Expression.Dependency.VariableRelation);var g=Expression.subtraction(c,d);var b=Expression.variable("1");var k=Expression.variable("x");var h=Expression.fraction(b,g);var e=Expression.integral(h,k);e.name(Expression.RuleType.GeneralFormula9A);return e},GeneralFormula9B:function(){var e=Expression.variable("a");e.mark("a2");var d=Expression.variable("x");d.mark("x2");d.dependency("sibling","",Expression.Dependency.SiblingIndependence);var j=Expression.addition(d,e);var i=Expression.variable("a");i.mark("a1");var g=Expression.variable("x");g.mark("x1");g.dependency("sibling","",Expression.Dependency.SiblingIndependence);var b=Expression.subtraction(g,i);var h=Expression.fraction(b,j);b.dependency("sibling","",Expression.Dependency.SiblingDependence);var s=Expression.abs(h);var o=Expression.ln(s);var r=Expression.variable("2");var a=Expression.variable("a");a.mark("a3");var l=Expression.multiplication(r,a);var k=Expression.variable("1");var q=Expression.fraction(k,l);var n=Expression.multiplication(q,o);var p=Expression.variable("c");var m=Expression.addition(n,p);m.name(Expression.RuleType.GeneralFormula9B);return m},TrigonometricFormula10A:function(){var c=Expression.variable("x");c.mark("dx");var a=Expression.variable("x");a.mark("x");var b=Expression.sin(a);var d=Expression.integral(b,c);d.name(Expression.RuleType.TrigonometricFormula10A);return d},TrigonometricFormula10B:function(){var f=Expression.variable("c");var b=Expression.variable("x");b.mark("x");var e=Expression.cos(b);var d=Expression.multiplication(-1,e);var a=Expression.addition(d,f);a.name(Expression.RuleType.TrigonometricFormula10B);return a},TrigonometricFormula11A:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.variable("x");a.mark("x");var d=Expression.cos(a);var c=Expression.integral(d,b);c.name(Expression.RuleType.TrigonometricFormula11A);return c},TrigonometricFormula11B:function(){var e=Expression.variable("c");var b=Expression.variable("x");b.mark("x");var d=Expression.sin(b);var a=Expression.addition(d,e);a.name(Expression.RuleType.TrigonometricFormula11B);return a},IGeneralFormula12a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.tan(a);var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula12a);return d},IGeneralFormula12b:function(){var d=Expression.anything();d.mark("X");var e=Expression.sec(d);var b=Expression.abs(e);var f=Expression.ln(b);var g=Expression.variable("c");var a=Expression.addition(f,g);a.name(Expression.RuleType.Integration.IGeneralFormula12b);return a},IGeneralFormula13a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.cot(a);var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula13a);return d},IGeneralFormula13b:function(){var d=Expression.anything();d.mark("X");var e=Expression.sin(d);var b=Expression.abs(e);var f=Expression.ln(b);var g=Expression.variable("c");var a=Expression.addition(f,g);a.name(Expression.RuleType.Integration.IGeneralFormula13b);return a},IGeneralFormula14a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.sec(a);var c=Expression.power(d,2);var b=Expression.variable("x");b.mark("dx");var e=Expression.integral(c,b);e.name(Expression.RuleType.Integration.IGeneralFormula14a);return e},IGeneralFormula14b:function(){var b=Expression.anything();b.mark("X");var d=Expression.tan(b);var e=Expression.variable("c");var a=Expression.addition(d,e);a.name(Expression.RuleType.Integration.IGeneralFormula14b);return a},IGeneralFormula15a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var e=Expression.csc(a);var c=Expression.power(e,2);var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula15a);return d},IGeneralFormula15b:function(){var b=Expression.anything();b.mark("X");var d=Expression.cot(b);var f=Expression.variable("c");var e=Expression.multiplication(-1,d);var a=Expression.addition(e,f);a.name(Expression.RuleType.Integration.IGeneralFormula15b);return a},IGeneralFormula16a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.tan(a);var d=Expression.power(c,2);var b=Expression.variable("x");b.mark("dx");var e=Expression.integral(d,b);e.name(Expression.RuleType.Integration.IGeneralFormula16a);return e},IGeneralFormula16b:function(){var b=Expression.anything();b.mark("X1");var d=Expression.anything();d.mark("X2");var e=Expression.tan(b);var g=Expression.variable("c");var f=Expression.multiplication(-1,d);var a=Expression.addition(e,f,g);a.name(Expression.RuleType.Integration.IGeneralFormula16b);return a},IGeneralFormula17a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.cot(a);var c=Expression.power(d,2);var b=Expression.variable("x");b.mark("dx");var e=Expression.integral(c,b);e.name(Expression.RuleType.Integration.IGeneralFormula17a);return e},IGeneralFormula17b:function(){var b=Expression.anything();b.mark("X1");var d=Expression.anything();d.mark("X2");var e=Expression.cot(b);var g=Expression.variable("c");var f=Expression.multiplication(-1,d);var a=Expression.addition(e,f,g);a.name(Expression.RuleType.Integration.IGeneralFormula17b);return a},IGeneralFormula18a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X1");var c=Expression.anything();c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);c.mark("X2");var e=Expression.sec(a);var d=Expression.tan(c);var g=Expression.multiplication(e,d);var b=Expression.variable("x");b.mark("dx");var f=Expression.integral(g,b);f.name(Expression.RuleType.Integration.IGeneralFormula18a);f.dependency("stay:","",function(i,h){return Expression.Dependency.Matches(["X2","X1"],i,h)},true);return f},IGeneralFormula18b:function(){var b=Expression.anything();b.mark("X");var d=Expression.sec(b);var e=Expression.variable("c");var a=Expression.addition(d,e);a.name(Expression.RuleType.Integration.IGeneralFormula18b);return a},IGeneralFormula19a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X1");var c=Expression.anything();c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);c.mark("X2");var f=Expression.csc(a);var d=Expression.cot(c);var g=Expression.multiplication(f,d);var b=Expression.variable("x");b.mark("dx");var e=Expression.integral(g,b);e.name(Expression.RuleType.Integration.IGeneralFormula19a);e.dependency("stay:","",function(i,h){return Expression.Dependency.Matches(["X2","X1"],i,h)},true);return e},IGeneralFormula19b:function(){var b=Expression.anything();b.mark("X");var e=Expression.csc(b);var f=Expression.variable("c");var d=Expression.multiplication(-1,e);var a=Expression.addition(d,f);a.name(Expression.RuleType.Integration.IGeneralFormula19b);return a},IGeneralFormula20a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.sec(a);var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula20a);return d},IGeneralFormula20b:function(){var e=Expression.anything();e.mark("X1");var d=Expression.anything();d.mark("X2");var i=Expression.variable("c");var g=Expression.sec(e);var f=Expression.tan(d);var b=Expression.abs(Expression.addition(g,f));var h=Expression.ln(b);var a=Expression.addition(h,i);a.name(Expression.RuleType.Integration.IGeneralFormula20b);return a},IGeneralFormula21a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.csc(a);var b=Expression.variable("x");b.mark("dx");var c=Expression.integral(d,b);c.name(Expression.RuleType.Integration.IGeneralFormula21a);return c},IGeneralFormula21b:function(){var e=Expression.anything();e.mark("X1");var d=Expression.anything();d.mark("X2");var i=Expression.variable("c");var h=Expression.csc(e);var g=Expression.cot(d);var b=Expression.abs(Expression.subtraction(h,g));var f=Expression.ln(b);var a=Expression.addition(f,i);a.name(Expression.RuleType.Integration.IGeneralFormula21b);return a},IGeneralFormula24a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var f=Expression.anything();f.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);f.mark("N");var c=Expression.sin(a);var d=Expression.power(c,f);var b=Expression.variable("x");b.mark("dx");var e=Expression.integral(d,b);e.name(Expression.RuleType.Integration.IGeneralFormula24a);return e},IGeneralFormula24b:function(){var s=Expression.anything();s.mark("X1");var p=Expression.anything();p.mark("N2");var w=Expression.anything();w.mark("X2");var e=Expression.cos(w);var o=Expression.subtraction(p,1);var b=Expression.sin(s);var r=Expression.power(b,o);var q=Expression.anything();q.mark("N1");var i=Expression.division(Expression.variable(1),q);var d=Expression.multiplication(-1,i,r,e);var n=Expression.anything();n.mark("N3");var f=Expression.subtraction(n,1);var l=Expression.anything();l.mark("N4");var h=Expression.division(f,l);var v=Expression.anything();v.mark("X3");var k=Expression.anything();k.mark("N5");var m=Expression.sin(v);var u=Expression.subtraction(k,2);var g=Expression.power(m,u);var t=Expression.variable("x");t.mark("dx");var a=Expression.integral(m,t);var c=Expression.multiplication(h,a);var j=Expression.addition(d,c);j.name(Expression.RuleType.Integration.IGeneralFormula24b);return j},IGeneralFormula25a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var f=Expression.anything();f.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);f.mark("N");var e=Expression.cos(a);var c=Expression.power(e,f);var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula25a);return d},IGeneralFormula25b:function(){var r=Expression.anything();r.mark("X1");var o=Expression.anything();o.mark("N2");var w=Expression.anything();w.mark("X2");var b=Expression.sin(w);var n=Expression.subtraction(o,1);var e=Expression.cos(r);var q=Expression.power(e,n);var p=Expression.anything();p.mark("N1");var i=Expression.division(Expression.variable(1),p);var d=Expression.multiplication(i,q,b);var m=Expression.anything();m.mark("N3");var f=Expression.subtraction(m,1);var l=Expression.anything();l.mark("N4");var h=Expression.division(f,l);var v=Expression.anything();v.mark("X3");var k=Expression.anything();k.mark("N5");var u=Expression.cos(v);var t=Expression.subtraction(k,2);var g=Expression.power(u,t);var s=Expression.variable("x");s.mark("dx");var a=Expression.integral(u,s);var c=Expression.multiplication(h,a);var j=Expression.addition(d,c);j.name(Expression.RuleType.Integration.IGeneralFormula25b);return j},IGeneralFormula26a:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.sinh(a);var c=Expression.integral(d,b);c.name(Expression.RuleType.Integration.IGeneralFormula26a);return c},IGeneralFormula26b:function(){var e=Expression.variable("c");var d=Expression.anything("x");d.mark("X");var b=Expression.cosh(d);var a=Expression.addition(b,e);a.name(Expression.RuleType.Integration.IGeneralFormula26b);return a},IGeneralFormula27a:function(){var c=Expression.variable("x");c.mark("dx");var b=Expression.anything("x");b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X");var a=Expression.cosh(b);var d=Expression.integral(a,c);d.name(Expression.RuleType.Integration.IGeneralFormula27a);return d},IGeneralFormula27b:function(){var e=Expression.variable("c");var b=Expression.anything("x");b.mark("X");var d=Expression.sinh(b);var a=Expression.addition(d,e);a.name(Expression.RuleType.Integration.IGeneralFormula27b);return a},IGeneralFormula28a:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.tanh(a);var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula28a);return d},IGeneralFormula28b:function(){var f=Expression.variable("c");var d=Expression.anything("x");d.mark("X");var b=Expression.cosh(d);var e=Expression.ln(b);var a=Expression.addition(e,f);a.name(Expression.RuleType.Integration.IGeneralFormula28b);return a},IGeneralFormula29a:function(){var c=Expression.variable("x");c.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var b=Expression.coth(a);var d=Expression.integral(b,c);d.name(Expression.RuleType.Integration.IGeneralFormula29a);return d},IGeneralFormula29b:function(){var f=Expression.variable("c");var b=Expression.anything("x");b.mark("X");var e=Expression.sinh(b);var d=Expression.ln(e);var a=Expression.addition(d,f);a.name(Expression.RuleType.Integration.IGeneralFormula29b);return a},IGeneralFormula30a:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.sech(a);var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula30a);return d},IGeneralFormula30b:function(){var g=Expression.variable("c");var b=Expression.anything("x");b.mark("X");var f=Expression.tanh(b);var d=Expression.sin(f);var e=Expression.power(d,-1);var a=Expression.addition(e,g);a.name(Expression.RuleType.Integration.IGeneralFormula30b);return a},IGeneralFormula31a:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.csch(a);var c=Expression.integral(d,b);c.name(Expression.RuleType.Integration.IGeneralFormula31a);return c},IGeneralFormula31b:function(){var g=Expression.variable("c");var b=Expression.anything("x");b.mark("X");var f=Expression.division(b,Expression.variable(2));var e=Expression.tanh(f);var d=Expression.ln(e);var a=Expression.addition(d,g);a.name(Expression.RuleType.Integration.IGeneralFormula31b);return a},IGeneralFormula32a:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var c=Expression.sech(a);var d=Expression.power(c,2);var e=Expression.integral(d,b);e.name(Expression.RuleType.Integration.IGeneralFormula32a);return e},IGeneralFormula32b:function(){var e=Expression.variable("c");var b=Expression.anything("x");b.mark("X");var d=Expression.tanh(b);var a=Expression.addition(d,e);a.name(Expression.RuleType.Integration.IGeneralFormula32b);return a},IGeneralFormula33a:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var e=Expression.csch(a);var c=Expression.power(e,2);var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula33a);return d},IGeneralFormula33b:function(){var f=Expression.variable("c");var b=Expression.anything("x");b.mark("X");var d=Expression.coth(b);var e=Expression.multiplication(-1,d);var a=Expression.addition(e,f);a.name(Expression.RuleType.Integration.IGeneralFormula33b);return a},IGeneralFormula34a:function(){var b=Expression.variable("x");b.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.tanh(a);var c=Expression.power(d,2);var e=Expression.integral(c,b);e.name(Expression.RuleType.Integration.IGeneralFormula34a);return e},IGeneralFormula34b:function(){var g=Expression.variable("c");var b=Expression.anything("x");b.mark("X1");var d=Expression.anything("x");d.mark("X2");var e=Expression.tanh(b);var f=Expression.multiplication(-1,e);var a=Expression.addition(d,f,g);a.name(Expression.RuleType.Integration.IGeneralFormula34b);return a},IGeneralFormula35a:function(){var c=Expression.variable("x");c.mark("dx");var a=Expression.anything("x");a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var b=Expression.coth(a);var d=Expression.power(b,2);var e=Expression.integral(d,c);e.name(Expression.RuleType.Integration.IGeneralFormula35a);return e},IGeneralFormula35b:function(){var g=Expression.variable("c");var b=Expression.anything("x");b.mark("X1");var e=Expression.anything("x");e.mark("X2");var d=Expression.coth(b);var f=Expression.multiplication(-1,d);var a=Expression.addition(e,f,g);a.name(Expression.RuleType.Integration.IGeneralFormula35b);return a},IGeneralFormula36a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X1");var c=Expression.anything();c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);c.mark("X2");var d=Expression.sech(a);var e=Expression.tanh(c);var g=Expression.multiplication(d,e);var b=Expression.variable("x");b.mark("dx");var f=Expression.integral(g,b);f.name(Expression.RuleType.Integration.IGeneralFormula36a);f.dependency("stay:","",function(i,h){return Expression.Dependency.Matches(["X2","X1"],i,h)},true);return f},IGeneralFormula36b:function(){var b=Expression.anything();b.mark("X");var d=Expression.sech(b);var f=Expression.variable("c");var e=Expression.multiplication(-1,d);var a=Expression.addition(e,f);a.name(Expression.RuleType.Integration.IGeneralFormula36b);return a},IGeneralFormula37a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X1");var d=Expression.anything();d.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);d.mark("X2");var f=Expression.csch(a);var c=Expression.coth(d);var g=Expression.multiplication(f,c);var b=Expression.variable("x");b.mark("dx");var e=Expression.integral(g,b);e.name(Expression.RuleType.Integration.IGeneralFormula37a);e.dependency("stay:","",function(i,h){return Expression.Dependency.Matches(["X2","X1"],i,h)},true);return e},IGeneralFormula37b:function(){var b=Expression.anything();b.mark("X");var d=Expression.csch(b);var f=Expression.variable("c");var e=Expression.multiplication(-1,d);var a=Expression.addition(e,f);a.name(Expression.RuleType.Integration.IGeneralFormula37b);return a},IGeneralFormula38a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var e=Expression.sinh(a);var c=Expression.power(e,2);var b=Expression.variable("x");b.mark("dx");var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula38a);return d},IGeneralFormula38b:function(){var b=Expression.anything();b.mark("X1");var d=Expression.anything();d.mark("X2");var h=Expression.sinh(Expression.multiplication(2,b));var g=Expression.variable("c");var e=Expression.division(h,4);var f=Expression.division(d,2);var a=Expression.addition(e,Expression.multiplication(-1,f),g);a.name(Expression.RuleType.Integration.IGeneralFormula38b);return a},IGeneralFormula39a:function(){var b=Expression.anything();b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X");var a=Expression.cosh(b);var d=Expression.power(a,2);var c=Expression.variable("x");c.mark("dx");var e=Expression.integral(d,c);e.name(Expression.RuleType.Integration.IGeneralFormula39a);return e},IGeneralFormula39b:function(){var b=Expression.anything();b.mark("X1");var d=Expression.anything();d.mark("X2");var h=Expression.sinh(Expression.multiplication(2,b));var g=Expression.variable("c");var e=Expression.division(h,4);var f=Expression.division(d,2);var a=Expression.addition(e,f,g);a.name(Expression.RuleType.Integration.IGeneralFormula39b);return a},IGeneralFormula40a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var d=Expression.e(a);var b=Expression.variable("x");b.mark("dx");var c=Expression.integral(d,b);c.name(Expression.RuleType.Integration.IGeneralFormula40a);return c},IGeneralFormula40b:function(){var b=Expression.anything();b.mark("X");var d=Expression.e(b);var f=Expression.variable("c");var a=Expression.addition(d,f);a.name(Expression.RuleType.Integration.IGeneralFormula40b);return a},IGeneralFormula41a:function(){var b=Expression.anything();b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X");var c=Expression.anything();c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);c.mark("A");var c=Expression.power(c,b);var d=Expression.variable("x");d.mark("dx");var e=Expression.integral(c,d);e.name(Expression.RuleType.Integration.IGeneralFormula41a);return e},IGeneralFormula41b:function(){var d=Expression.anything();d.mark("X");var e=Expression.anything();e.mark("A1");var b=Expression.anything();b.mark("A2");var f=Expression.power(e,d);var g=Expression.ln(b);var i=Expression.division(f,g);var h=Expression.variable("c");var a=Expression.addition(i,h);a.name(Expression.RuleType.Integration.IGeneralFormula41b);return a},IGeneralFormula42a:function(){var a=Expression.anything();a.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);a.mark("X");var b=Expression.variable("x");b.mark("dx");var c=Expression.ln(a);var d=Expression.integral(c,b);d.name(Expression.RuleType.Integration.IGeneralFormula42a);return d},IGeneralFormula42b:function(){var b=Expression.anything();b.mark("X1");var d=Expression.anything();d.mark("X2");var f=Expression.ln(d);var e=Expression.subtraction(f,1);var g=Expression.multiplication(b,e);var h=Expression.variable("c");var a=Expression.addition(g,h);a.name(Expression.RuleType.Integration.IGeneralFormula42b);return a},IGeneralFormula43a:function(){var b=Expression.anything();b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X");var c=Expression.anything();c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);c.mark("A");var d=Expression.variable("x");d.mark("dx");var e=Expression.log(b,c);var f=Expression.integral(e,d);f.name(Expression.RuleType.Integration.IGeneralFormula43a);return f},IGeneralFormula43b:function(){var j=Expression.anything();j.mark("X1");var d=Expression.anything();d.mark("X2");var i=Expression.anything();i.mark("A");var k=Expression.ln(d);var b=Expression.subtraction(k,1);var g=Expression.ln(i);var l=Expression.division(j,g);var e=Expression.multiplication(l,b);var h=Expression.variable("c");var f=Expression.addition(e,h);f.name(Expression.RuleType.Integration.IGeneralFormula43b);return f},IGeneralFormula44a:function(){var b=Expression.anything();b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X1");var e=Expression.anything();e.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);e.mark("X2");var c=Expression.anything();c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);c.mark("A");var d=Expression.variable("x");d.mark("dx");var h=Expression.e(Expression.multiplication(c,b));var g=Expression.multiplication(e,h);var f=Expression.integral(g,d);f.name(Expression.RuleType.Integration.IGeneralFormula44a);f.dependency("stay:","",function(i,a){return Expression.Dependency.Matches(["X2","X1"],i,a)},true);return f},IGeneralFormula44b:function(){var n=Expression.anything();n.mark("X1");var f=Expression.anything();f.mark("X2");var m=Expression.anything();m.mark("A1");var g=Expression.anything();g.mark("A2");var b=Expression.anything();b.mark("A3");var d=Expression.multiplication(b,f);var e=Expression.subtraction(d,1);var l=Expression.variable("c");var o=Expression.e(m,n);var j=Expression.power(g,2);var h=Expression.division(o,j);var i=Expression.multiplication(h,e);var k=Expression.addition(i,l);k.name(Expression.RuleType.Integration.IGeneralFormula44b);return k},IGeneralFormula45a:function(){var b=Expression.anything("x");b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X2");var c=Expression.anything("A");c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);c.mark("A");var e=Expression.anything("x");e.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);e.mark("X1");var g=Expression.multiplication(c,e);var i=Expression.e(g);i.mark("EAX");var h=Expression.division(i,b);h.mark("PARENT");var d=Expression.variable("x");d.mark("X");var f=Expression.integral(h,d);f.name(Expression.RuleType.Integration.IGeneralFormula45a);f.dependency("stay:","",function(j,a){return Expression.Dependency.Matches(["X2","X1"],j,a)},true);f.dependency("stay:","",function(j,a){return Expression.Dependency.OrderRequired(["EAX","X2"],"PARENT",j,a)},true);return f},IGeneralFormula45b:function(){var g=Expression.variable("i");g.mark("i");var m=Expression.anything();m.mark("A");var n=Expression.anything();n.mark("X1");var e=Expression.multiplication(m,n);var l=Expression.power(e,g);var f=Expression.variable("i");f.mark("i");var d=Expression.variable("i");d.mark("i");var q=Expression.factorial(d);var b=Expression.multiplication(f,q);var i=Expression.division(l,b);var p=Expression.summation(i,1,Expression.symbols.Infinity,"i");var n=Expression.variable("x");n.mark("X2");var o=Expression.abs(n);var j=Expression.ln(o);var k=Expression.variable("c");var h=Expression.addition(j,p,k);h.name(Expression.RuleType.Integration.IGeneralFormula45b);return h},IGeneralFormula47a:function(){var e=Expression.anything();e.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);e.mark("N");var c=Expression.anything("asdfx");c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);c.mark("X1");var f=Expression.power(c,e);var h=Expression.anything();h.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);h.mark("A");var b=Expression.anything("fdasdx");b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X2");var i=Expression.e(Expression.multiplication(h,b));var g=Expression.multiplication(f,i);var j=Expression.variable("x");j.mark("dx");var d=Expression.integral(g,j);d.name(Expression.RuleType.Integration.IGeneralFormula47a);d.dependency("stay:","",function(k,a){return Expression.Dependency.Matches(["X2","X1"],k,a)},true);return d},IGeneralFormula47b:function(){var z=Expression.anything();z.mark("A1");var y=Expression.anything();y.mark("A2");var x=Expression.anything();x.mark("A3");var w=Expression.anything();w.mark("A4");var v=Expression.anything();v.mark("X1");var s=Expression.anything();s.mark("X2");var q=Expression.anything();q.mark("X3");var o=Expression.anything();o.mark("X4");var h=Expression.anything();h.mark("N1");var g=Expression.anything();g.mark("N2");var f=Expression.anything();f.mark("N3");var i=Expression.anything("dx");i.mark("dx");var p=Expression.subtraction(f,1);var l=Expression.multiplication(w,o);var j=Expression.e(l);var r=Expression.power(q,p);var m=Expression.multiplication(r,j);var a=Expression.integral(m,i);var d=Expression.division(g,x);var b=Expression.multiplication(d,a);var n=Expression.multiplication(y,s);var e=Expression.e(n);var k=Expression.power(v,h);var u=Expression.division(1,z);var c=Expression.multiplication(u,k,e);var t=Expression.subtraction(c,b);t.name(Expression.RuleType.Integration.IGeneralFormula47b);return t},IGeneralFormula48a:function(){var f=Expression.anything();f.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);f.mark("N");var d=Expression.anything("x");d.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);d.mark("X1");var g=Expression.power(d,f);g.mark("POWX");var h=Expression.anything();h.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);h.mark("A");var c=Expression.anything("x");c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);c.mark("X2");var i=Expression.e(Expression.multiplication(h,c));i.mark("EAX");var b=Expression.division(i,g);b.mark("PARENT");var j=Expression.variable("x");j.mark("dx");var e=Expression.integral(b,j);e.name(Expression.RuleType.Integration.IGeneralFormula48a);e.dependency("stay:","",function(k,a){return Expression.Dependency.Matches(["X2","X1"],k,a)},true);e.dependency("stay:","",function(k,a){return Expression.Dependency.OrderRequired(["EAX","POWX"],"PARENT",k,a)},true);return e},IGeneralFormula48b:function(){var F=Expression.anything();F.mark("A1");var q=Expression.anything();q.mark("X1");var r=Expression.multiplication(F,q);var v=Expression.e(r);var C=Expression.anything();C.mark("X2");var p=Expression.anything();p.mark("N2");var A=Expression.subtraction(p,1);var o=Expression.power(C,A);var i=Expression.division(v,o);var e=Expression.multiplication(-1,i);var H=Expression.anything();H.mark("A2");var t=Expression.anything("x");t.mark("dx");var G=Expression.anything();G.mark("A3");var B=Expression.anything();B.mark("X3");var y=Expression.multiplication(G,B);var k=Expression.e(y);var z=Expression.anything();z.mark("X4");var m=Expression.anything();m.mark("N3");var b=Expression.subtraction(m,1);var s=Expression.power(z,b);var h=Expression.division(k,s);var g=Expression.integral(h,t);var d=Expression.multiplication(H,g);var u=Expression.addition(e,d);var w=Expression.anything("n");w.mark("N1");var l=Expression.subtraction(w,1);var f=Expression.division(1,l);var D=Expression.multiplication(f,u);var E=Expression.variable("c");var j=Expression.addition(D,E);j.name(Expression.RuleType.Integration.IGeneralFormula48b);return j},IGeneralFormula49a:function(){var b=Expression.anything();b.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);b.mark("X2");var e=Expression.ln(b);var h=Expression.anything();h.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.ConstRelation);h.mark("N");var c=Expression.anything();c.dependency("up:.integral",Expression["function"].respectTo,Expression.Dependency.VariableRelation);c.mark("X1");var d=Expression.power(c,h);var g=Expression.multiplication(d,e);var a=Expression.anything("x");a.mark("dx");var f=Expression.integral(g,a);f.dependency("stay:","",function(j,i){return Expression.Dependency.Matches(["X2","X1"],j,i)},true);f.name(Expression.RuleType.Integration.IGeneralFormula49a);return f},IGeneralFormula49b:function(){var j=Expression.anything();j.mark("N3");var i=Expression.addition(j,1);var b=Expression.anything();b.mark("X2");var r=Expression.ln(b);var f=Expression.multiplication(i,r);var h=Expression.addition(f,-1);var n=Expression.anything();n.mark("N1");var m=Expression.addition(n,1);var e=Expression.anything();e.mark("X1");var p=Expression.power(e,m);var l=Expression.anything();l.mark("N2");var q=Expression.addition(l,1);var a=Expression.power(q,2);var d=Expression.division(p,a);var g=Expression.multiplication(d,h);var o=Expression.variable("c");var k=Expression.addition(g,o);k.name(Expression.RuleType.Integration.IGeneralFormula49b);return k}}},Flatten:function(d,b,a){switch(b){case Expression.type.power:return Expression.FlattenPower(d.copy(),b,true);default:if(d.type!==b){if(a){return[d]}else{return d}}else{var c=d.getValues().concatFluentReverse(function(f){if(f.type===b){return Expression.Flatten(f.copy(),b,true)}else{return[f.copy()]}});if(!a){var e=d.copy();e.clearParts();c.foreach(function(f){e.addInput(f);return f.parent(e)});return e}return c}}},FlattenPower:function(g,i,h){var e=g.partOrDefault(Expression["function"].base),f,k;switch(e.type){case Expression.type.power:k=Expression.FlattenPower(e.copy(),i,h);break;default:return g}var d,b=k.partOrDefault(Expression["function"].power);if(typeof b==="object"){switch(b.type){case Expression.type.variable:d=b.partOrDefault(Expression.type.variable);d=isNaN(d)?d:parseFloat(d);break}}else{d=isNaN(b)?b:parseFloat(b)}var j=g.partOrDefault(Expression["function"].power);var a;if(typeof j==="object"){a=j.partOrDefault(Expression.type.input)||j.partOrDefault(Expression.type.variable);switch(j.type){case Expression.type.variable:a=isNaN(a)?a:parseFloat(a);break}}else{a=isNaN(j)?j:parseFloat(j)}if(!isNaN(d)&&!isNaN(a)){var c=k.partOrDefault(Expression["function"].power);k.remove(c);k.addPart(Expression["function"].power,Expression.variable(d*a))}else{var c=k.partOrDefault(Expression["function"].power);k.remove(c);if(typeof d!=="object"){d=Expression.variable(d)}if(typeof a!=="object"){a=Expression.variable(a)}k.addPart(Expression["function"].power,Expression.multiplication(d,a))}return k},createAssociativeGroupings:function(b){var a=MEPH.math.Set.sagset(b.parts.length);return a.select(function(d){var g=d;var e=MEPH.math.Set.permutate(new Set([].interpolate(0,b.parts.length,function(h){return h})));var f=function(n,k,i,l){var j=MEPH.math.Set.superset(new Set([].interpolate(0,l.length,function(o){return l[o]}))).get();var m=(j).where(function(o){return o.count(function(p){return p!==null})===n[k]});var h=m.select(function(o){return o.select(function(q,p){return o[p]!==null?l[p]:false}).where(function(p){return p!==false})});h=h.concatFluentReverse(function(o){var q=(l.where(function(r){return !o.contains(function(s){return s===r})}));var p;if(k<i-1&&q.length){return f(n,k+1,i,q).select(function(r){return o.concat(r)})}return k?o:[o]});return h};var c=f(g,0,b.parts.length,[].interpolate(0,b.parts.length,function(h){return h})).select(function(h,i){return h.select(function(j){var k=b.parts[j].val;return k&&k.copy?k.copy():k})});return{set:g,grouping:c}})},convertGrouping:function(b,a){return b.concatFluentReverse(function(c){return c.grouping.select(function(d){return Expression.convertGroup({set:c.set,grouping:d},a)})})},convertGroup:function(e,d){var f,c=0,b=[],a;switch(d){case Expression.type.multiplication:a=Expression.multiplication;break;case Expression.type.addition:a=Expression.addition;break}[].interpolate(0,e.set.length,function(i){var h=e.set[i];if(f){var g=e.grouping.subset(c,h+c);f=a.apply(null,[f].concat(g));c=h+c}else{if(b.length||h>1){if(b.length){var g=e.grouping.subset(c,h+c);f=a.apply(null,b.concat(g));b=[]}else{f=a.apply(null,e.grouping.subset(c,h+c))}c=h+c}else{b.push(e.grouping[c]);c++}}});return f},matchRule:function(c,b,d){var a=c.match(b,true);if(a){if(b.dependenciesMarkAreRespected(c)){if(!d){c.clearMarks()}}else{return false}c.name(b.name())}return a},getMatch:function(a){return ExpressionMatch.getMatch(a)},integrate:function(a){return ExpressionMatch.integrate(a)},anything:function(a){var b=new Expression();b.anything=a||null;b.setExp(Expression.type.anything);return b},requiresParenthesis:function(a){switch(a){case Expression.type.subtraction:case Expression.type.division:case Expression.type.multiplication:case Expression.type.addition:return true;default:return false}},power:function(b,a){var c=new Expression();c.setExp(Expression.type.power);if(!(b instanceof Expression)){b=Expression.variable(b)}c.addPart(Expression["function"].base,b);if(!(a instanceof Expression)){a=Expression.variable(a)}c.addPart(Expression["function"].power,a);return c},sqrt:function(a){var b=new Expression();b.setExp(Expression.type.sqrt);if(!(a instanceof Expression)){a=Expression.variable(a)}b.addPart(Expression["function"].input,a);return b},plusminus:function(d,c){var e=new Expression();e.setExp(Expression.type.plusminus);e.addPart(Expression["function"].input,d);e.addPart(Expression["function"].input,c);return e},one:function(){return Expression.variable(1)},zero:function(){return Expression.variable(0)},isZero:function(a){return Expression.zero().equals(a,{exact:true})},isOne:function(a){return Expression.one().equals(Expression.variableOr(a),{exact:true})},removeOne:function(b){var a=b.getParts().where(function(c){return Expression.isOne(c.val)});if(a.length===b.getParts().length){a=a.subset(1)}a.foreach(function(c){return b.remove(c.val)});if(b.getParts().length===1){return b.getParts().first().val}return b},variable:function(a){var b=new Expression();b.setExp(Expression.type.variable,a);return b},limit:function(f,d,c){var e=new Expression();e.setExp(Expression.type.limit);e.addPart(Expression["function"].expression,f);e.addPart(Expression["function"].start,d);e.addPart(Expression["function"].end,c);return e},factorial:function(b){var c=new Expression();c.setExp(Expression.type.factorial);c.addPart(Expression["function"].input,b);return c},summation:function(g,e,c,d){var f=new Expression();f.setExp(Expression.type.summation);f.addPart(Expression["function"].input,g);if(e&&!(e instanceof Expression)){e=Expression.variable(e)}f.addPart(Expression["function"].start,e);if(c&&!(e instanceof Expression)){c=Expression.variable(c)}f.addPart(Expression["function"].end,c);if(d&&!(d instanceof Expression)){d=Expression.variable(d)}f.addPart(Expression["function"].respectTo,d);return f},addition:function(d,c){return Expression.arithmetic.apply(null,[Expression.type.addition].concat(MEPHArray.convert(arguments)))},subtraction:function(d,c){return Expression.arithmetic.apply(null,[Expression.type.subtraction].concat(MEPHArray.convert(arguments)))},multiplication:function(d,c){return Expression.arithmetic.apply(null,[Expression.type.multiplication].concat(MEPHArray.convert(arguments)))},division:function(d,c){return Expression.arithmetic.apply(null,[Expression.type.division].concat(MEPHArray.convert(arguments)))},fraction:function(a,c){var b=new Expression();b.setExp(Expression.type.fraction);b.addPart(Expression["function"].numerator,a);MEPHArray.convert(arguments).subset(1).foreach(function(d){b.addPart(Expression["function"].denominator,d)});return b},ln:function(a){var b=new Expression();b.setExp(Expression.type.ln);if(!(a instanceof Expression)){a=Expression.variable(a)}b.addPart(Expression["function"].input,a);return b},e:function(a){var b=new Expression();b.setExp(Expression.type.e);if(!(a instanceof Expression)){a=Expression.variable(a)}b.addPart(Expression["function"].input,a);return b},abs:function(a){var b=new Expression();b.setExp(Expression.type.abs);b.addPart(Expression["function"].input,a);return b},variableOr:function(a){return a instanceof Expression?a:Expression.variable(a)},log:function(b,c){var d=new Expression();d.setExp(Expression.type.log);if(!(b instanceof Expression)){b=Expression.variable(b)}d.addPart(Expression["function"].input,b);if(c===undefined||c===null){c=10}if(!(c instanceof Expression)){c=Expression.variable(c)}d.addPart(Expression["function"].base,c);return d},neg:function(){var a=new Expression();a.setExp(Expression.type.negative);MEPHArray.convert(arguments).foreach(function(b){a.addPart(Expression["function"].input,b)});return a},mod:function(d,c){var e=new Expression();e.setExp(Expression.type.modulo);e.addPart(Expression["function"].input,d);e.addPart(Expression["function"].input,c);return e},arithmetic:function(e,d,c){var f=new Expression();f.setExp(e);MEPHArray.convert(arguments).subset(1).foreach(function(a){var b=a;if(!(a instanceof Expression)){b=Expression.variable(b)}f.addPart(Expression["function"].input,b)});return f},cos:function(b,a){return Expression.trigonometric(Expression.type.cos,b,a)},tan:function(b,a){return Expression.trigonometric(Expression.type.tan,b,a)},sin:function(b,a){return Expression.trigonometric(Expression.type.sin,b,a)},csc:function(b,a){return Expression.trigonometric(Expression.type.csc,b,a)},sec:function(b,a){return Expression.trigonometric(Expression.type.sec,b,a)},cot:function(b,a){return Expression.trigonometric(Expression.type.cot,b,a)},sinh:function(a){return Expression.trigonometric(Expression.type.sinh,a,null)},cosh:function(a){return Expression.trigonometric(Expression.type.cosh,a,null)},tanh:function(a){return Expression.trigonometric(Expression.type.tanh,a,null)},sech:function(a){return Expression.trigonometric(Expression.type.sech,a,null)},coth:function(a){return Expression.trigonometric(Expression.type.coth,a,null)},csch:function(a){return Expression.trigonometric(Expression.type.csch,a,null)},trigonometric:function(b,d,a){var c=new Expression();c.setExp(b);if(!(d instanceof Expression)){d=Expression.variable(d)}c.addPart(Expression["function"].input,d);if(a!==undefined&&a!==null){c.addPart(Expression["function"].power,a)}return c},func:function(a){var b=new Expression();b.setExp(Expression.type.func);b.addPart(Expression["function"].name,MEPHArray.convert(arguments).first());MEPHArray.convert(arguments).subset(1).foreach(function(c){b.addPart(Expression["function"].input,c)});return b},derivative:function(d,b,a,c){var e=new Expression();e.setExp(Expression.type.derivative);if(d){e.addPart(Expression["function"].input,d)}if(b instanceof Expression){e.addPart(Expression["function"].derivative,b)}else{e.addPart(Expression["function"].derivative,Expression.variable(b||1))}if(a){if(typeof a==="string"){a=Expression.variable(a)}e.addPart(Expression["function"].numerator,a)}if(c){if(typeof c==="string"){c=Expression.variable(c)}e.addPart(Expression["function"].denominator,c)}return e},theta:function(){var a=new Expression();a.setExp(Expression.type.theta);return a},integral:function(g,e,d,c){var f=new Expression();f.setExp(Expression.type.integral);f.addPart(Expression["function"].input,g);if(d){f.addPart(Expression["function"].start,d)}if(c){f.addPart(Expression["function"].end,c)}if(e){if(typeof e==="string"){e=Expression.variable(e)}f.addPart(Expression["function"].respectTo,e)}return f}},properties:{expression:null,parts:null,type:null,dependencies:null,_mark:null,_parent:null,repeat:false,_name:null},getRepeatParts:function(){var a=this;if(a.repeat){return a.getParts()}return[]},setProperties:function(a){var b=this;b.properties=b.properties||{};MEPH.apply(a,b.properties)},getProperties:function(){var a=this;a.properties=a.properties||{};return a.properties},copy:function(){var a=this;var b=new Expression();b.type=a.type;b.mark(a.mark());b.name(a.name());b.setProperties(a.getProperties());b.repeat=a.repeat;b.parts=a.getParts().select(function(c){var d=c.val.copy?c.val.copy():c.val;if(c.val.copy){d.parent(b)}return{type:c.type,val:d}});b.expression=a.expression;b.dependencies=a.getDependencies().select();return b},mark:function(b){var a=this;if(b!==undefined){a._mark=b}return a._mark},clearMarks:function(){var a=this;a.getParts().select(function(b){return b.val}).foreach(function(b){if(b instanceof Expression){b.clearMarks()}});a._mark=null},name:function(b){var a=this;if(b!==undefined){a._name=b}return a._name},setExp:function(a,c){var b=this;b.type=a;if(c!==undefined){b.parts.push({type:a,val:c})}},clearParts:function(){var a=this;return a.parts.clear()},setParts:function(c,a){var b=this;b.clearParts();c.foreach(function(d){b.addPart(a,d)})},getMark:function(b){var a=this;return a.getMarks()[b]},setMark:function(c,b){var a=this;var c=a.getMark(c);c.parts.removeWhere()},getMarks:function(){var b=this,a={};if(b.mark()){a[b.mark()]=b}b.parts.foreach(function(d){if(d&&d.val&&d.val.getMarks){var g=d.val.getMarks();for(var f in g){if(g[f]){var e=Array.isArray(g[f])?g[f].first():g[f];var c=a[f];if(c){c=(!Array.isArray((c)))?c:c.first();if(c.isSibling(e)){if(!Array.isArray(g[f])){a[f]=[c];a[f].push(g[f])}else{a[f]=[c].concat(g[f])}}}else{a[f]=g[f]}}}}});return a},isSibling:function(b){var a=this;return a.parent()===b.parent()},respects:function(){var a=this;var b=a.getParts().select(function(c){if(c.val){if(c.val instanceof Expression){return c.val.respects()}else{if(isNaN(parseFloat(c.val))){return c.val}else{return null}}}else{return null}}).concatFluentReverse(function(c){if(c){return Array.isArray(c)?c:[c]}return[]}).unique();return b},addPart:function(a,c){var b=this;if(c.parent){c.parent(b)}b.parts.push({type:a,val:c})},addInput:function(b){var a=this;a.addPart(Expression["function"].input,b)},parent:function(a){var b=this;if(a){b._parent=a}return b._parent},dependency:function(c,a,e,d){var b=this;b.dependencies.push({mark:d,offset:c,part:a,ruleFunction:e})},getDependencies:function(){var a=this;return a.dependencies},dependenciesAreRespected:function(c,b){var a=this;return a.getDependencies().where(function(d){if(b){return d.mark}return !!!d.mark}).all(function(g){var f,e;e=Expression.select(c,g);if(!e){throw new Error("no offset found")}return g.ruleFunction(c,e)})},dependenciesMarkAreRespected:function(b){var a=this;return a.dependenciesAreRespected(b,true)},latex:function(){var q=this,l;switch(q.type){case Expression.type.variable:return q.parts.first().val;case Expression.type.integral:var f=q.partLatex(Expression["function"].start);var e=q.partLatex(Expression["function"].end);var r="";if(f&&e){r=f+"^"+e}l="\\int_"+r+" \\! "+q.partLatex(Expression["function"].input)+" \\, \\mathrm{d}"+q.partLatex(Expression["function"].respectTo)+"";return l;case Expression.type.e:return"e^"+q.partLatex(Expression["function"].input);case Expression.type.addition:var m="";var d="";if(q.parent()){m="(";d=")"}return m+q.parts.select(function(a){return a.val.latex()}).join(" + ")+d;break;case Expression.type.subtraction:return q.parts.select(function(a){return a.val.latex()}).join(" - ");break;case Expression.type.anything:return q.anything||"f(x)";case Expression.type.func:return q.partLatex(Expression["function"].name)+"("+q.parts.subset(1).select(function(a){return a.val&&a.val.latex?a.val.latex():a.val}).join(",")+")";break;case Expression.type.derivative:var g=q.partLatex(Expression["function"].input);var n=q.part(Expression["function"].derivative);n=n&&n.val?n.val:null;if(n&&n.value()!=1){n="^"+n.value()}else{n=""}var s=q.partLatex(Expression["function"].numerator)||"";var c=q.partLatex(Expression["function"].denominator)||"";return"\\frac{\\partial"+n+" "+s+"}{\\partial "+c+""+n+"} ("+g+")";case Expression.type.multiplication:if(q.parts.unique(function(a){return a.val.latex()}).length!==q.parts.length||q.parts.where(function(a){return parseFloat(a.val.latex())}).length!==q.parts.length){return q.parts.orderBy(q.orderParts.bind(q)).select(function(a,b){return a.val.latex()}).join("")}else{return q.parts.orderBy(q.orderParts.bind(q)).select(function(a,b){return a.val.latex()}).join(" * ")}break;case Expression.type.modulo:return q.latexPart(q.parts.nth(1))+" \\bmod "+q.latexPart(q.parts.nth(2));break;case Expression.type.negative:return"-"+q.parts.orderBy(q.orderParts.bind(q)).select(function(a,b){return a.val&&a.val.latex?a.val.latex():a.val}).join("");case Expression.type.limit:var i=q.partLatex(Expression["function"].expression);var p=q.partLatex(Expression["function"].start);var o=q.partLatex(Expression["function"].end);return"\\lim_{"+p+" \\to "+o+"} "+i;break;case Expression.type.division:return q.parts.select(function(a){return a.val.latex()}).join(" / ");break;case Expression.type.ln:var f="\\ln ";if(q.parts.length>1){f+="("}var t=q.parts.first().val;if(t.latex){f+=t.latex()}else{f+=t}if(q.parts.length>1){f+=")"}return f;case Expression.type.abs:var f="|";var t=q.parts.select(function(a){return q.latexPart(a)}).join("");f+=t;f+="|";return f;case Expression.type.fraction:if(q.parts.length===2){return"\\frac{"+q.partLatex(Expression["function"].numerator)+"}{"+q.partLatex(Expression["function"].denominator)+"}"}else{var f="\\begin{equation}";var e=" \\end{equation}";q.parts.subset(0,q.parts.length-1).foreach(function(a){f+=" \\cfrac{"+q.latexPart(a)+"}{";e="}"+e});return f+q.latexPart(q.parts.last())+e}break;case Expression.type.plusminus:var p=q.parts.first(function(a){return a.type===Expression["function"].input});var o=q.parts.second(function(a){return a.type===Expression["function"].input});return q.latexPart(p)+" \\pm "+q.latexPart(o);break;case Expression.type.theta:return"\\theta";case Expression.type.factorial:var j=q.partLatex(q.partOrDefault(Expression["function"].input))+"!";return j;case Expression.type.summation:var h="\\displaystyle\\sum_{"+q.partLatex(Expression["function"].respectTo)+"="+q.partLatex(Expression["function"].start)+"}^{"+q.partLatex(Expression["function"].end)+"} "+q.partLatex(Expression["function"].input)+"";return h;case Expression.type.tanh:case Expression.type.sinh:case Expression.type.cosh:case Expression.type.tan:case Expression.type.sin:case Expression.type.cos:case Expression.type.sec:case Expression.type.cot:case Expression.type.csc:case Expression.type.sech:case Expression.type.csch:case Expression.type.coth:var k=q.partLatex(Expression["function"].power);if(k){k="^"+k}else{k=""}return"\\"+q.type+k+" ("+q.partLatex(Expression["function"].input)+")";case Expression.type.power:return q.partLatex(Expression["function"].base)+"^{"+q.partLatex(Expression["function"].power)+"}";break;default:throw new Error("unhandled : "+q.type)}},latexPart:function(a){if(a&&a.val){if(a.val.latex){a=a.val.latex()}else{a=a.val}}return a||""},partLatex:function(a){var b=this;var c=b.part(a);return b.latexPart(c)},partOrDefault:function(b){var c=this;var a=c.part(b);return a?a.val:null},part:function(a){var b=this;return b.parts.first(function(c){return c.type===a})},swap:function(h,f){var d=this;d.ensureLineage();var c=d.getMarks();var e=d.getParts();if(c[h]){var b=c[h].parent();var g;if(b){g=b.indexOf(c[h]);var a=b.remove(c[h]).first()}f.mark(h);if(b){if(g===null||!a){throw new Error("illegal state for swapping.")}b.addPartAt(a.type,f,g)}}},ensureLineage:function(){var a=this;a.getParts().foreach(function(b){if(b.val.parent){b.val.parent(a);b.val.ensureLineage()}})},addPartAt:function(a,c,d){var b=this;if(b.getParts().length>d&&d!==-1){b.getParts().splice(d,0,{val:c,type:a})}else{b.addPart(a,c)}},indexOf:function(c){var b=this;var a=b.parts.indexWhere(function(d){return d.val===c});return a.first()},orderParts:function(e,d){var c={variable:0,ln:8,integral:10,addition:5,power:5,limit:5,fraction:3,sin:5,cos:5,tan:5,csc:5,cot:5,sec:5,tan:5,func:5,derivative:5,mod:5,modulo:5,theta:5,subtraction:5,plusminus:5,multiplication:5,division:5,anything:5};return(e.val&&e.val.type?c[e.val.type]||0:0)-(d.val&&d.val.type?c[d.val.type]||0:0)},value:function(){var a=this;switch(a.type){case Expression.type.variable:return a.partOrDefault(a.type);default:return a}},remove:function(a){var b=this;return b.getParts().removeWhere(function(c){return c.val===a})},partVal:function(b){var c=this;var a=c.part(b);if(a){return a.val}return null},getParts:function(){var a=this;return a.parts},getPartByIndex:function(a){var b=this;var c=b.getParts()[a];if(c){return c.val}return null},getValues:function(){var a=this;return a.getParts().select(function(b){return b.val})},initialize:function(a){var b=this;b.expression={};b.dependencies=[];b.parts=[]},match:function(g,h){var e=this;if(e.type===g.type&&g.dependenciesAreRespected(e)){var c=e.getParts().select();var b=g.getParts().select();var d=function(j,i){var k=j.first(function(l){if(l.type!==i.type){return false}if(l.val&&i.val&&l.val.equals&&i.val.equals){return i.val.match(l.val,h)}else{if(l.val&&!i.val||!l.val&&i.val){return false}else{return true}}});if(k){j.removeFirstWhere(function(l){return l===k});return k}else{return false}};if(g.repeat){var f;if(g.repeat.requires){f=g.getParts().where(function(i){return g.repeat.requires.contains(function(j){return j===i.type})}).select(function(i){return i});var a=f.all(function(i){var j=[].interpolate(0,e.getParts().length,function(){return i});var k=j.length;c.foreach(d.bind(e,j));return k!=j.length});return a}else{f=[].interpolate(0,e.getParts().length,function(){return g.parts.first()});c.foreach(d.bind(e,f));if(f.length===0){if(h){e.mark(g.mark())}e.repeat=g.repeat;return true}}return false}else{if(g.getParts().contains(function(i){return i.val.type===(Expression.type.anything)})){b=g.getParts().select();c.foreach(d.bind(e,b));if(b.length===0){if(h){e.mark(g.mark())}return true}return false}else{if(c.length!==b.length){return false}c.foreach(d.bind(e,b));if(b.length>0){return false}if(h){e.mark(g.mark())}return true}}}else{if(g.type===Expression.type.anything&&g.dependenciesAreRespected(e)){if(h){e.mark(g.mark())}return true}}return false},equals:function(e,b){var c=this;b=b||{formEquals:true,exact:false};if(c.type===e.type){var d=c.getParts().select();var a=e.getParts().select(function(f){return f});if(d.length!==a.length){return false}d.foreach(function(f){var g=a.first(function(h){if(h.type!==f.type){return false}if(h.val&&f.val&&h.val.equals&&f.val.equals){return h.val.equals(f.val,b)}else{if(h.val&&!f.val||!h.val&&f.val){return false}else{if(b.exact){if(isNaN(f.val)&&isNaN(h.val)){return f.val===h.val}else{return parseFloat(f.val)===parseFloat(h.val)}}return true}}});if(g){a.removeWhere(function(h){return h===g})}else{return false}});if(a.length>0){return false}return true}}}).then(function(){[].interpolate(0,100,function(a){Expression.RuleType.Derivation["GeneralFormula"+a+"b"]="GeneralFormula"+a+"b";Expression.RuleType.Derivation["GeneralFormula"+a+"a"]="GeneralFormula"+a+"a"});Expression.RuleType.Derivation.ChainRuleA="ChainRuleA";Expression.RuleType.Derivation.ChainRuleB="ChainRuleB";[].interpolate(0,100,function(a){Expression.RuleType.Integration["IGeneralFormula"+a+"b"]="IGeneralFormula"+a+"b";Expression.RuleType.Integration["IGeneralFormula"+a+"a"]="IGeneralFormula"+a+"a"})});