MEPH.define("MEPH.graph.SVGGraphViewPort",{requires:["MEPH.math.J3DIVector3","MEPH.graph.ActiveZone","MEPH.util.Style"],extend:"MEPH.graph.GraphViewPort",properties:{maskDownZIndex:1},createZoneDom:function(a,b){return a.dom},setup:function(a,c){var e=this;var f=document.querySelector(a);var d=document.createElement("div");var b=document.createElementNS("http://www.w3.org/2000/svg","svg");var g=document.createElementNS("http://www.w3.org/2000/svg","g");b.appendChild(g);e.setGCanvas(g);b.style.position="absolute";b.style.zIndex=3;c=c||{height:400,width:450};f.appendChild(d);d.appendChild(b);e.setCanvas(b);e.setCanvasSize({height:c.height,width:c.width});e.setDock(d);e.applyMask(d)},onClick:function(a){},hoverConnection:function(){},applyMask:function(c){var b=this,a=b.getCanvas();a.addEventListener("mousedown",b.onMaskMouseDown.bind(b));a.addEventListener("mousemove",b.onSVGMaskMouseMove.bind(b));b.great()},onSVGMaskMouseMove:function(a){var b=this;b.calculateMousePosition(a);if(b.getCanvas()===a.srcElement){if(!(b.isDragging||b.isDraggingNode||b.connectionFlow)){b.fire("mousemove",a)}else{if(b.connectionFlow){b.fire("viewportconnectionflow",a)}}}},onMaskMouseDown:function(a){if(this.getCanvas()===a.srcElement){var b=this;b.great()}},getGCanvas:function(){var a=this;return a.gcanvas},setGCanvas:function(b){var a=this;a.gcanvas=b}});