MEPH.define("MEPH.audio.soundfont.utils.SFByteArray",{requires:["MEPH.audio.external.stringencoding.encoding-indexes","MEPH.audio.external.stringencoding.encoding"],extend:"MEPH.audio.soundfont.SFObject",properties:{automove:true},statics:{uint16size:2,Int32Size:4,UFloat32Size:4,CharSize:1,UInt32Size:4,UInt8Size:1,Int8Size:1,Int16Size:2,UInt16Size:2},initialize:function(a){this.endian=true;this.encoding="utf-8";if(a!=null){this.writeBytes(a);this.position=0}},setSource:function(a){this.writeBytes(a)},writeBytes:function(a){this._source=a;this._dataview=new DataView(a)},copy:function(c,a,b){this.memcpy(this._source,this.position,c,a,b)},memcpy:function(g,c,e,a,d){var b=new Uint8Array(g,c,d);var f=new Uint8Array(e,a,d);b.set(f)},readWord:function(){var a=this._dataview.getUint16(this.position,this.endian);if(this.automove){this.position+=SFByteArray.UInt16Size}return a},hasSource:function(){return this._source},readBytes:function(a,c,b){if(!a.hasSource()){a.setSource(new ArrayBuffer(b))}this.memcpy(a._source,c,this._source,this.position,b);this.position+=b},readUnsignedByte:function(){var a=this._dataview.getUint8(this.position,this.endian);if(this.automove){this.position+=SFByteArray.UInt8Size}return a},readByte:function(){var a=this._dataview.getInt8(this.position,this.endian);if(this.automove){this.position+=SFByteArray.Int8Size}return a},readShort:function(){var a=this._dataview.getInt16(this.position,this.endian);if(this.automove){this.position+=SFByteArray.Int16Size}return a},readUnsignedShort:function(){var a=this._dataview.getUint16(this.position,this.endian);if(this.automove){this.position+=SFByteArray.UInt16Size}return a},readDWord:function(){var a=this._dataview.getInt32(this.position,this.endian);if(this.automove){this.position+=SFByteArray.Int32Size}return a},readFloat:function(){var a=this._dataview.getFloat32(this.position,this.endian);if(this.automove){this.position+=SFByteArray.UFloat32Size}return a},writeFloat:function(b){var a=this._dataview.setFloat32(this.position,b,this.endian);if(this.automove){this.position+=SFByteArray.UFloat32Size}return a},readString:function(c){var d=TextDecoder(this.encoding);c=(c==-1)?this.bytesAvailable():c;var b=new DataView(this._source,this.position,c);var a=d.decode(b,0,c);if(this.automove){this.position+=(SFByteArray.CharSize*c)}return a},bytesAvailable:function(){return this._dataview.byteLength-this.position},writeWord:function(a){this._dataview.setInt32(a,this.position,this.endian);if(this.automove){this.position+=(SFByteArray.Int32Size*length)}},writeByte:function(a){},writeDWord:function(a){;this._dataview.setUInt32(a,this.position,this.endian);if(this.automove){this.position+=(SFByteArray.UInt32Size*length)}},writeString:function(b){;var a=new TextEncoder(this.encoding).encode(b);var c=this.position;this.memcpy(this._dataview,this.position,a,0,a.buffer.length);if(this.automove){this.position+=(a.buffer.length)}},skip:function(a){this.position+=a}});