MEPH.define("MEPH.audio.graph.node.AudioBufferSourceNode",{extend:"MEPH.audio.graph.node.Node",requires:["MEPH.audio.Audio","MEPH.audio.AudioResources"],alias:"audiobuffersource",templates:true,injections:["audioResources"],properties:{loopTitle:"Q",loopEndTitle:"loop",loopStartTitle:"detune",playbackRateTitle:"gain",sourceTitle:"",sourcevalue:null,loopvalue:null,loopEndvalue:null,loopStartvalue:null,playbackRatevalue:null,audiobuffersources:null},initialize:function(){var a=this;a.nodecontrols=a.nodecontrols||[];a.nodecontrols.push("bufferoutput");a.nodecontrols.push("sourceinput");a.nodecontrols.push("loop");a.nodecontrols.push("loopEnd");a.nodecontrols.push("loopStart");a.nodecontrols.push("playbackRate");a.great();a.nodeInputs.push(a.createInput("source",MEPH.audio.graph.node.Node.String));a.nodeInputs.push(a.createInput("loop",MEPH.audio.graph.node.Node.Boolean));a.nodeInputs.push(a.createInput("loopEnd",MEPH.audio.graph.node.Node.Number));a.nodeInputs.push(a.createInput("loopStart",MEPH.audio.graph.node.Node.Number));a.nodeInputs.push(a.createInput("playbackRate",MEPH.audio.graph.node.Node.Number,{path:"playbackRate.value"}));a.nodeOutputs.push(a.createOutput("buffer",MEPH.audio.graph.node.Node.AudioBuffer))},onResourcesUpdated:function(){var a=this;a.audiobuffersources=a.audiobuffersources||MEPH.util.Observable.observable([]);if(a.audiobuffersources){a.audiobuffersources.clear()}if(a.$inj.audioResources){a.audiobuffersources.push.apply(a.audiobuffersources,a.$inj.audioResources.getResources())}},onInjectionsComplete:function(){var a=this;a.onResourcesUpdated()},onLoaded:function(){var a=this;a.audiobuffersources=MEPH.util.Observable.observable([]);a.subscription(MEPH.subscribe(MEPH.audio.AudioResources.RESOURCE_MANAGER_UPDATE,a.onResourcesUpdated.bind(a)));a.onResourcesUpdated();a.great();a.title="Audio Buffer Source";a.hideConnector=true;a.sourceTitle="source";a.loopTitle="loop";a.loopEndTitle="loop end";a.loopStartTitle="loop start";a.playbackRateTitle="playback rate"}});